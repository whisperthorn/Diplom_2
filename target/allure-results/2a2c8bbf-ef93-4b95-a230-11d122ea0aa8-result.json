{"uuid":"2a2c8bbf-ef93-4b95-a230-11d122ea0aa8","historyId":"b947aa3a13184835bab6e94cb1b795e1","fullName":"site.stellarburgers.api.ChangeUserInfoTest.testChangeToExistingEmail","labels":[{"name":"package","value":"site.stellarburgers.api"},{"name":"testClass","value":"site.stellarburgers.api.ChangeUserInfoTest"},{"name":"testMethod","value":"testChangeToExistingEmail"},{"name":"suite","value":"site.stellarburgers.api.ChangeUserInfoTest"},{"name":"host","value":"DESKTOP-QPSHLLV"},{"name":"thread","value":"13944@DESKTOP-QPSHLLV.main(1)"},{"name":"framework","value":"junit4"},{"name":"language","value":"java"}],"links":[],"name":"Изменение данных в поле email на существующий в базе адрес с авторизацией.","status":"passed","stage":"finished","description":"Проверяем, что система возвращает ошибку при попытке изменить email на существующий в базе адрес используя токен авторизации.","steps":[{"name":"Подготавливаем персональные данные для аккаунта","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1742700052388,"stop":1742700052409},{"name":"Регистрируем новый аккаунт","status":"passed","stage":"finished","steps":[{"name":"Отправляем POST запрос на /api/auth/register","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"endpoint","value":"/api/auth/register"},{"name":"jsonBody","value":"CreateAccountPojo(email=4909viki.schneider@yahoo.com, password=!UV$111@^0e, name=Sammy)"}],"start":1742700052409,"stop":1742700052801}],"attachments":[],"parameters":[{"name":"email","value":"4909viki.schneider@yahoo.com"},{"name":"password","value":"!UV$111@^0e"},{"name":"firstName","value":"Sammy"}],"start":1742700052409,"stop":1742700052801},{"name":"Регистрируем новый аккаунт","status":"passed","stage":"finished","steps":[{"name":"Отправляем POST запрос на /api/auth/register","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"endpoint","value":"/api/auth/register"},{"name":"jsonBody","value":"CreateAccountPojo(email=new4909viki.schneider@yahoo.com, password=!UV$111@^0e, name=Sammy)"}],"start":1742700052819,"stop":1742700053229}],"attachments":[],"parameters":[{"name":"email","value":"new4909viki.schneider@yahoo.com"},{"name":"password","value":"!UV$111@^0e"},{"name":"firstName","value":"Sammy"}],"start":1742700052819,"stop":1742700053229},{"name":"Попытка обновить данные пользователя используя токен авторизации","status":"passed","stage":"finished","steps":[{"name":"Отправляем PATCH запрос на /api/auth/user используя токен авторизации","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"endpoint","value":"/api/auth/user"},{"name":"jsonBody","value":"ChangeUserInfoPojo(email=new4909viki.schneider@yahoo.com, name=Sammy)"},{"name":"bearerToken","value":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3ZGY3ZTE1OWVkMjgwMDAxYjVhZTI5NyIsImlhdCI6MTc0MjcwMDA1MywiZXhwIjoxNzQyNzAxMjUzfQ.JKyesYTvUOH2xqZowc4qJpt-TM5cZnucEaai_iGO2y8"}],"start":1742700053244,"stop":1742700053584}],"attachments":[],"parameters":[{"name":"changeCredentials","value":"ChangeUserInfoPojo(email=new4909viki.schneider@yahoo.com, name=Sammy)"},{"name":"bearerToken","value":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3ZGY3ZTE1OWVkMjgwMDAxYjVhZTI5NyIsImlhdCI6MTc0MjcwMDA1MywiZXhwIjoxNzQyNzAxMjUzfQ.JKyesYTvUOH2xqZowc4qJpt-TM5cZnucEaai_iGO2y8"}],"start":1742700053244,"stop":1742700053584},{"name":"Проверяем, что код ответа равен 403","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"io.restassured.internal.RestAssuredResponseImpl@40d4d0fe"},{"name":"expectedStatusCode","value":"403"}],"start":1742700053584,"stop":1742700053585},{"name":"Проверяем, что параметр success имеет значение false","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"io.restassured.internal.RestAssuredResponseImpl@40d4d0fe"},{"name":"jsonPath","value":"success"},{"name":"expectedValue","value":"false"}],"start":1742700053586,"stop":1742700053601},{"name":"Проверяем, что параметр message имеет значение User with such email already exists","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"response","value":"io.restassured.internal.RestAssuredResponseImpl@40d4d0fe"},{"name":"jsonPath","value":"message"},{"name":"expectedValue","value":"User with such email already exists"}],"start":1742700053602,"stop":1742700053620},{"name":"Удаляем тестовый аккаунт","status":"passed","stage":"finished","steps":[{"name":"Отправляем DELETE запрос на /api/auth/user c токеном авторизации","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"endpoint","value":"/api/auth/user"},{"name":"bearerToken","value":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3ZGY3ZTE1OWVkMjgwMDAxYjVhZTI5OSIsImlhdCI6MTc0MjcwMDA1MywiZXhwIjoxNzQyNzAxMjUzfQ.qcNWRc-nEVXdqBiztlUiCEfSG4MOlnUgfRwjpv6I3Tw"}],"start":1742700053621,"stop":1742700054454}],"attachments":[],"parameters":[{"name":"bearerToken","value":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3ZGY3ZTE1OWVkMjgwMDAxYjVhZTI5OSIsImlhdCI6MTc0MjcwMDA1MywiZXhwIjoxNzQyNzAxMjUzfQ.qcNWRc-nEVXdqBiztlUiCEfSG4MOlnUgfRwjpv6I3Tw"}],"start":1742700053620,"stop":1742700054454},{"name":"Удаляем тестовый аккаунт","status":"passed","stage":"finished","steps":[{"name":"Отправляем DELETE запрос на /api/auth/user c токеном авторизации","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"endpoint","value":"/api/auth/user"},{"name":"bearerToken","value":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3ZGY3ZTE1OWVkMjgwMDAxYjVhZTI5NyIsImlhdCI6MTc0MjcwMDA1MywiZXhwIjoxNzQyNzAxMjUzfQ.JKyesYTvUOH2xqZowc4qJpt-TM5cZnucEaai_iGO2y8"}],"start":1742700054455,"stop":1742700055261}],"attachments":[],"parameters":[{"name":"bearerToken","value":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3ZGY3ZTE1OWVkMjgwMDAxYjVhZTI5NyIsImlhdCI6MTc0MjcwMDA1MywiZXhwIjoxNzQyNzAxMjUzfQ.JKyesYTvUOH2xqZowc4qJpt-TM5cZnucEaai_iGO2y8"}],"start":1742700054454,"stop":1742700055261}],"attachments":[],"parameters":[],"start":1742700052388,"stop":1742700055261}